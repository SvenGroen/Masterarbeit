%\renewcommand\thesection{A.\arabic{section}}
%\renewcommand\thefigure{A-\arabic{figure}}   
%\renewcommand\thetable{A-\arabic{table}}   

\chapter{Appendix} \label{ch:Appendix}


\section*{Visual Results}
\label{A:Visual_results}
\subsection[]{Correlation Difference Matrix}
\label{A:corr_matrix}

\begin{figure}[h]
	\centering
	\begin{subfigure}{0.3\textwidth}
		\includegraphics[width=\textwidth]{images/correlation_difference/ctabgan_simTune.jpg}
		\caption{CTABGAN$^s_q$}

	\end{subfigure}
    \begin{subfigure}{0.3\textwidth}
        \includegraphics[width=\textwidth]{images/correlation_difference/tvae_simTune.jpg}
        \caption{TVAE$^s$}

    \end{subfigure}
	\begin{subfigure}{0.3\textwidth}
		\includegraphics[width=\textwidth]{images/correlation_difference/tab-ddpm-bgm-simTune.jpg}
		\caption{TabDDPM-BGM$^{s}_q$}

	\end{subfigure}
    \begin{subfigure}{0.3\textwidth}
        \includegraphics[width=\textwidth]{images/correlation_difference/tab-ddpm-bgm-simTune-minmax.jpg}
        \caption{TabDDPM-BGM$^{s}_m$}

    \end{subfigure}
	\begin{subfigure}{0.3\textwidth}
		\includegraphics[width=\textwidth]{images/correlation_difference/tab-ddpm-ft-simTune.jpg}
		\caption{TabDDPM-FT$^{s}_q$}

    \end{subfigure}
    \caption{Correlation difference matrix for different model versions}

\end{figure}

\subsection[]{Principle Component Analysis}
\label{A:pca}

\begin{figure}[h]
	\centering
	\begin{subfigure}{0.3\textwidth}
		\includegraphics[width=\textwidth]{images/pca/ctabgan_simTune.jpg}
		\caption{CTABGAN$^s$}
	\end{subfigure}
    \begin{subfigure}{0.3\textwidth}
        \includegraphics[width=\textwidth]{images/pca/tvae_simTune.jpg}
        \caption{TVAE$^s$}
    \end{subfigure}
	\begin{subfigure}{0.3\textwidth}
		\includegraphics[width=\textwidth]{images/pca/tab-ddpm-bgm-simTune.jpg}
		\caption{TabDDPM-BGM$^{s}_q$}
	\end{subfigure}
	\begin{subfigure}{0.3\textwidth}
		\includegraphics[width=\textwidth]{images/pca/tab-ddpm-ft-simTune.jpg}
		\caption{TabDDPM-FT$^{s}_q$}
    \end{subfigure}
	\begin{subfigure}{0.3\textwidth}
		\includegraphics[width=\textwidth]{images/pca/tab-ddpm-bgm-simTune-minmax.jpg}
		\caption{TabDDPM-BGM$^{s}_m$}
		\label{fig_a:pca_TabDDPMBM}
    \end{subfigure}
    \caption{Principle Component Analysisfor different model versions}
    \label{fig_a:pca_diff}
\end{figure}

\subsection[]{Distribution Plots}
\label{A:distributions}
%----------
\newpage
\begin{landscape}
	\begin{figure}[h]
		\centering
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/distributions_full/ctabgan.jpg}
			\caption{CTABGAN$^{ml}$}
		\end{subfigure}
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/distributions_full/ctabgan_simTune.jpg}
			\caption{CTABGAN$^s$}
		\end{subfigure}	
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/distributions_full/ctabgan+.jpg}
			\caption{CTABGAN+$^{ml}$}
		\end{subfigure}
		\hfill
		\caption{Distribution plots for CTABGAN$^{ml}$, CTABGAN$^s$ and CTABGAN+$^{ml}$}
		\label{fig_a:dist_1}
	\end{figure}
\end{landscape}
%----------
\newpage
\begin{landscape}
	\begin{figure}[h]
		\centering
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/distributions_full/tvae.jpg}
			\caption{TVAE$^{ml}$}
		\end{subfigure}		
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/distributions_full/tvae_simTune.jpg}
			\caption{TVAE$^s$}
		\end{subfigure}
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/distributions_full/smote.jpg}
			\caption{SMOTE}
		\end{subfigure}
		\caption{Distribution plots for TVAE$^{ml}$, TVAE$^s$ and SMOTE}
		\label{fig_a:dist_2}
	\end{figure}
\end{landscape}
%----------
\newpage
\begin{landscape}
	\begin{figure}[h]
		\centering
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/distributions_full/tab-ddpm.jpg}
			\caption{TabDDPM$^{ml}_q$}
		\end{subfigure}
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/distributions_full/tab-ddpm-simTune.jpg}
			\caption{TabDDPM$^{s}_q$}
		\end{subfigure}
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/distributions_full/tab-ddpm-simTune-minmax.jpg}
			\caption{TabDDPM$^{s}_m$}
		\end{subfigure}
		\hfill
		\caption{Distribution plots for TabDDPM variations}
		\label{fig_a:dist_3}
	\end{figure}
\end{landscape}
%----------
\newpage
\begin{landscape}
	\begin{figure}[h]
		\centering
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/distributions_full/tab-ddpm-bgm.jpg}
			\caption{TabDDPM-BGM$^{ml}_q$}
		\end{subfigure}
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/distributions_full/tab-ddpm-bgm-simTune.jpg}
			\caption{TabDDPM-BGM$^{s}_q$}
		\end{subfigure}
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/distributions_full/tab-ddpm-bgm-simTune-minmax.jpg}
			\caption{TabDDPM-BGM$^{s}_m$}
		\end{subfigure}
		\caption{Distribution plots for TabDDPM-BGM variations}
		\label{fig_a:dist_4}
	\end{figure}
\end{landscape}
%----------
\newpage
\begin{landscape}
	\begin{figure}[h]
		\centering
		\hfill
		\begin{subfigure}{0.4\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/distributions_full/tab-ddpm-ft.jpg}
			\caption{TabDDPM-FT$^{ml}_q$}
		\end{subfigure}
		\hfill
		\begin{subfigure}{0.4\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/distributions_full/tab-ddpm-ft-simTune.jpg}
			\caption{TabDDPM-FT$^{ml}_q$}
		\end{subfigure}
		\caption{Distribution plots for TabDDPM-FT variations}
		\label{fig_a:dist_5}
	\end{figure}
\end{landscape}



%-------------


\subsection[]{Cumulative Distribution Plots}
\label{A:cumsum}
%----------
\newpage
\begin{landscape}
	\begin{figure}[h]
		\centering
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/cumsums/ctabgan.jpg}
			\caption{CTABGAN$^{ml}$}
		\end{subfigure}
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/cumsums/ctabgan_simTune.jpg}
			\caption{CTABGAN$^s$}
		\end{subfigure}	
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/cumsums/ctabgan+.jpg}
			\caption{CTABGAN+$^{ml}$}
		\end{subfigure}
		\hfill
		\caption{Cumulative Distribution plots for CTABGAN$^{ml}$, CTABGAN$^s$ and CTABGAN+$^{ml}$}
		\label{fig_a:cumsum_1}
	\end{figure}
\end{landscape}
%----------
\newpage
\begin{landscape}
	\begin{figure}[h]
		\centering
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/cumsums/tvae.jpg}
			\caption{TVAE$^{ml}$}
		\end{subfigure}		
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/cumsums/tvae_simTune.jpg}
			\caption{TVAE$^s$}
		\end{subfigure}
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/cumsums/smote.jpg}
			\caption{SMOTE}
		\end{subfigure}
		\caption{Cumulative Distribution plots for TVAE$^{ml}$, TVAE$^s$ and SMOTE}
		\label{fig_a:cumsum_2}
	\end{figure}
\end{landscape}
%----------
\newpage
\begin{landscape}
	\begin{figure}[h]
		\centering
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/cumsums/tab-ddpm.jpg}
			\caption{TabDDPM$^{ml}_q$}
		\end{subfigure}
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/cumsums/tab-ddpm-simTune.jpg}
			\caption{TabDDPM$^{s}_q$}
		\end{subfigure}
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/cumsums/tab-ddpm-simTune-minmax.jpg}
			\caption{TabDDPM$^{s}_m$}
		\end{subfigure}
		\hfill
		\caption{Cumulative Distribution plots for TabDDPM variations}
		\label{fig_a:cumsum_3}
	\end{figure}
\end{landscape}
%----------
\newpage
\begin{landscape}
	\begin{figure}[h]
		\centering
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/cumsums/tab-ddpm-bgm.jpg}
			\caption{TabDDPM-BGM$^{ml}_q$}
		\end{subfigure}
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/cumsums/tab-ddpm-bgm-simTune.jpg}
			\caption{TabDDPM-BGM$^{s}_q$}
		\end{subfigure}
		\hfill
		\begin{subfigure}{0.3\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/cumsums/tab-ddpm-bgm-simTune-minmax.jpg}
			\caption{TabDDPM-BGM$^{s}_m$}
		\end{subfigure}
		\caption{Cumulative Distribution plots for TabDDPM-BGM variations}
		\label{fig_a:cumsum_4}
	\end{figure}
\end{landscape}
%----------
\newpage
\begin{landscape}
	\begin{figure}[h]
		\centering
		\hfill
		\begin{subfigure}{0.4\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/cumsums/tab-ddpm-ft.jpg}
			\caption{TabDDPM-FT$^{ml}_q$}
		\end{subfigure}
		\hfill
		\begin{subfigure}{0.4\linewidth}
			\includegraphics[height=\textheight,width=\linewidth,keepaspectratio]{images/cumsums/tab-ddpm-ft-simTune.jpg}
			\caption{TabDDPM-FT$^{ml}_q$}
		\end{subfigure}
		\caption{Cumulative Distribution plots for TabDDPM-FT variations}
		\label{fig_a:cumsum_5}
	\end{figure}
\end{landscape}







\section*{Extended derivations}
\label{A:derivations}
\subsection*{Diffusion propabilistic models}
Several derivations have been presented in a short format for better readability.
This section will cover left-out derivations.
For a more detailed explanation \cite{weng2021WhatAreDiffusion, outlier2022DiffusionModelsPaper} is recommended.
For further details please refer to \cite{sohl-dickstein2015DeepUnsupervisedLearning, ho2020DenoisingDiffusionProbabilistic}.

Derivation to get from \autoref{eqn:vlb} to \autoref{eqn:vlb2}:

Given:

\begin{equation}
    \label{eqn:kl-divergence_appendix}
    KL(p\parallel q) = \int p(x)\cdot log(\frac{p(x)}{q(x)})dx
\end{equation}

and

\begin{equation}
    \label{eqn:simplify1}
	\begin{align}
    p_\theta(x_{1:T}|x_0) &= \frac{p_\theta(x_0|x_{1:T})p_\theta(x_{1:T})}{p_\theta(x_0)} && \textrm{using bayes rule}\\
	&= \frac{p_\theta(x_0,x_{1:T})}{p_\theta(x_{0})} && \textrm{summarize to joint probability}\\
	&= \frac{p_\theta(x_{0:T})}{p_\theta(x_{0})} && \textrm{summarize to joint probability}\\
\end{align}
\end{equation}

Derivation:

\begin{subequations}
	\label{eqn:vlb2_appendix}
	\begin{align}
		-log(p_\theta(x_0)) &\leq -log(p_\theta(x_0)) + KL(q(x_{1:T}|x_0) \parallel p_\theta(x_{1:T}|x_0)) &&\textrm{}\\
		&= -log(p_\theta(x_0)) + log(\frac{q(x_{1:T})|x_0}{p_\theta(x_{1:T}|x_0)}) && \textrm{using \autoref{eqn:kl-divergence_appendix}}\\
		&=-log(p_\theta(x_0)) + log(\frac{q(x_{1:T})|x_0}{\frac{p_\theta(x_{0:T})}{p_\theta(x_{0})}}) && \textrm{using \autoref{eqn:simplify1}}\\
		&= -log(p_\theta(x_0)) + log(\frac{q(x_{1:T})|x_0}{p_\theta(x_{0:T})})+log(p_\theta(x_{0})) && \textrm{Fraction rule}\\
		&= log(\frac{q(x_{1:T}|x_0)}{p_\theta(x_{0:T})})	&& \textrm{canceling out}\\
		\textrm{Let }L_{VLB} &= \mathbb{E}_{q(x_0:T)}\big[log(\frac{q(x_{1:T}|x_0)}{p_\theta(x_{0:T})}) \big] \geq - \mathbb{E}_{q(x_0)}log(p_\theta(x_0))
	\end{align}
\end{subequations}


Derivation to get from \autoref{eqn:vlb2} to \autoref{eqn:vlb3}:
\begingroup
\small
\begin{subequations}
	\label{eqn:vlb3_appendix}
	\begin{align}
	& L_{VLB}=\mathbb{E}_{q\left(\mathbf{x}_{0: T}\right)}\left[\log \frac{q\left(\mathbf{x}_{1: T} \mid \mathbf{x}_0\right)}{p_\theta\left(\mathbf{x}_{0: T}\right)}\right] \\
	& =\mathbb{E}_q\left[\log \frac{\prod_{t=1}^T q\left(\mathbf{x}_t \mid \mathbf{x}_{t-1}\right)}{p_\theta\left(\mathbf{x}_T\right) \prod_{t=1}^T p_\theta\left(\mathbf{x}_{t-1} \mid \mathbf{x}_t\right)}\right] \\
	& =\mathbb{E}_q\left[-\log p_\theta\left(\mathbf{x}_T\right)+\sum_{t=1}^T \log \frac{q\left(\mathbf{x}_t \mid \mathbf{x}_{t-1}\right)}{p_\theta\left(\mathbf{x}_{t-1} \mid \mathbf{x}_t\right)}\right] \\
	& =\mathbb{E}_q\left[-\log p_\theta\left(\mathbf{x}_T\right)+\sum_{t=2}^T \log \frac{q\left(\mathbf{x}_t \mid \mathbf{x}_{t-1}\right)}{p_\theta\left(\mathbf{x}_{t-1} \mid \mathbf{x}_t\right)}+\log \frac{q\left(\mathbf{x}_1 \mid \mathbf{x}_0\right)}{p_\theta\left(\mathbf{x}_0 \mid \mathbf{x}_1\right)}\right] \\
	& =\mathbb{E}_q\left[-\log p_\theta\left(\mathbf{x}_T\right)+\sum_{t=2}^T \log \left(\frac{q\left(\mathbf{x}_{t-1} \mid \mathbf{x}_t, \mathbf{x}_0\right)}{p_\theta\left(\mathbf{x}_{t-1} \mid \mathbf{x}_t\right)} \cdot \frac{q\left(\mathbf{x}_t \mid \mathbf{x}_0\right)}{q\left(\mathbf{x}_{t-1} \mid \mathbf{x}_0\right)}\right)+\log \frac{q\left(\mathbf{x}_1 \mid \mathbf{x}_0\right)}{p_\theta\left(\mathbf{x}_0 \mid \mathbf{x}_1\right)}\right] \\
	& =\mathbb{E}_q\left[-\log p_\theta\left(\mathbf{x}_T\right)+\sum_{t=2}^T \log \frac{q\left(\mathbf{x}_{t-1} \mid \mathbf{x}_t, \mathbf{x}_0\right)}{p_\theta\left(\mathbf{x}_{t-1} \mid \mathbf{x}_t\right)}+\sum_{t=2}^T \log \frac{q\left(\mathbf{x}_t \mid \mathbf{x}_0\right)}{q\left(\mathbf{x}_{t-1} \mid \mathbf{x}_0\right)}+\log \frac{q\left(\mathbf{x}_1 \mid \mathbf{x}_0\right)}{p_\theta\left(\mathbf{x}_0 \mid \mathbf{x}_1\right)}\right] \\
	& =\mathbb{E}_q\left[-\log p_\theta\left(\mathbf{x}_T\right)+\sum_{t=2}^T \log \frac{q\left(\mathbf{x}_{t-1} \mid \mathbf{x}_t, \mathbf{x}_0\right)}{p_\theta\left(\mathbf{x}_{t-1} \mid \mathbf{x}_t\right)}+\log \frac{q\left(\mathbf{x}_T \mid \mathbf{x}_0\right)}{q\left(\mathbf{x}_1 \mid \mathbf{x}_0\right)}+\log \frac{q\left(\mathbf{x}_1 \mid \mathbf{x}_0\right)}{p_\theta\left(\mathbf{x}_0 \mid \mathbf{x}_1\right)}\right] \\
	& =\mathbb{E}_q\left[\log \frac{q\left(\mathbf{x}_T \mid \mathbf{x}_0\right)}{p_\theta\left(\mathbf{x}_T\right)}+\sum_{t=2}^T \log \frac{q\left(\mathbf{x}_{t-1} \mid \mathbf{x}_t, \mathbf{x}_0\right)}{p_\theta\left(\mathbf{x}_{t-1} \mid \mathbf{x}_t\right)}-\log p_\theta\left(\mathbf{x}_0 \mid \mathbf{x}_1\right)\right] \\
	& =\mathbb{E}_q[\underbrace{D_{\mathrm{KL}}\left(q\left(\mathbf{x}_T \mid \mathbf{x}_0\right) \| p_\theta\left(\mathbf{x}_T\right)\right)}_{L_T}+\sum_{t=2}^T \underbrace{D_{\mathrm{KL}}\left(q\left(\mathbf{x}_{t-1} \mid \mathbf{x}_t, \mathbf{x}_0\right) \| p_\theta\left(\mathbf{x}_{t-1} \mid \mathbf{x}_t\right)\right)}_{L_{t-1}}-\underbrace{\log p_\theta\left(\mathbf{x}_0 \mid \mathbf{x}_1\right)}_{L_0}]
	\end{align}
\end{subequations}
\endgroup